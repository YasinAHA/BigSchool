#!/usr/bin/env sh

echo "ğŸš€ Running Quality Gates (pre-push)..."

# Gate 4: Coverage Check
echo "ğŸ“Š Checking test coverage..."
pnpm run test:coverage || {
  echo "âŒ Coverage not met! Improve tests."
  exit 1
}

# Gate 5: E2E Tests
echo "ğŸ­ Running E2E tests (chromium only)..."
pnpm run test:e2e --project=chromium || {
  echo "âŒ E2E failed! User journeys must work."
  exit 1
}

echo "âœ… All pre-push gates passed!"
